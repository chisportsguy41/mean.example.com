(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"5zjZ":function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),u=e("mrSG"),o=e("ZZ/e"),i=(e("lFSb"),e("6blF")),a=function(){function n(n,l,e){this.route=n,this.socket=l,this.toastCtrl=e,this.messages=[],this.nickname="",this.message=""}return n.prototype.ionViewDidEnter=function(){var n=this;this.route.params.subscribe(function(l){n.nickname=l.nickname}),this.getMessages().subscribe(function(l){n.messages.push(l)}),this.getUsers().subscribe(function(l){var e=l.user;n.showToast("left"===l.event?"User left: "+e:"User joined: "+e)})},n.prototype.sendMessage=function(){this.socket.emit("add-message",{text:this.message}),this.message=""},n.prototype.getMessages=function(){var n=this;return new i.a(function(l){n.socket.on("message",function(n){l.next(n)})})},n.prototype.getUsers=function(){var n=this;return new i.a(function(l){n.socket.on("users-changed",function(n){l.next(n)})})},n.prototype.ionViewWillLeave=function(){this.socket.disconnect()},n.prototype.showToast=function(n){return u.b(this,void 0,void 0,function(){return u.e(this,function(l){switch(l.label){case 0:return[4,this.toastCtrl.create({message:n,position:"top",duration:2e3})];case 1:return l.sent().present(),[2]}})})},n}(),s=function(){return function(){}}(),r=e("pMnS"),c=e("oBZk"),d=e("Ip0R"),m=e("gIcY"),f=e("ZYCi"),p=e("ytKu"),g=t["\u0275crt"]({encapsulation:0,styles:[["*[_ngcontent-%COMP%]   .user_name[_ngcontent-%COMP%]{color:#afafaf}*[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{padding:10px!important;transition:all 250ms ease-in-out!important;border-radius:10px!important;margin-bottom:4px!important}*[_ngcontent-%COMP%]   .my_message[_ngcontent-%COMP%]{background:#3880ff!important;color:#000!important}*[_ngcontent-%COMP%]   .other_message[_ngcontent-%COMP%]{background:#dcdcdc!important;color:#000!important}*[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#afafaf;float:right;font-size:small}*[_ngcontent-%COMP%]   .message_row[_ngcontent-%COMP%]{background-color:#fff}"]],data:{}});function h(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,11,"ion-col",[["class","message"],["size","9"]],null,null,null,c.K,c.i)),t["\u0275did"](1,278528,null,0,d.j,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](2,{my_message:0,other_message:1}),t["\u0275did"](3,49152,null,0,o.q,[t.ChangeDetectorRef,t.ElementRef],{size:[0,"size"]},null),(n()(),t["\u0275eld"](4,0,null,0,1,"span",[["class","user_name"]],null,null,null,null,null)),(n()(),t["\u0275ted"](5,null,["",":"])),(n()(),t["\u0275eld"](6,0,null,0,0,"br",[],null,null,null,null,null)),(n()(),t["\u0275eld"](7,0,null,0,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](8,null,["",""])),(n()(),t["\u0275eld"](9,0,null,0,2,"div",[["class","time"]],null,null,null,null,null)),(n()(),t["\u0275ted"](10,null,["",""])),t["\u0275ppd"](11,2)],function(n,l){var e=l.component,t=n(l,2,0,l.parent.context.$implicit.from===e.nickname,l.parent.context.$implicit.from!==e.nickname);n(l,1,0,"message",t),n(l,3,0,"9")},function(n,l){n(l,5,0,l.parent.context.$implicit.from),n(l,8,0,l.parent.context.$implicit.text);var e=t["\u0275unv"](l,10,0,n(l,11,0,t["\u0275nov"](l.parent.parent,0),l.parent.context.$implicit.created,"dd.MM hh:MM"));n(l,10,0,e)})}function C(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,11,"ion-col",[["class","message"],["offset","3"],["size","9"]],null,null,null,c.K,c.i)),t["\u0275did"](1,278528,null,0,d.j,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](2,{my_message:0,other_message:1}),t["\u0275did"](3,49152,null,0,o.q,[t.ChangeDetectorRef,t.ElementRef],{offset:[0,"offset"],size:[1,"size"]},null),(n()(),t["\u0275eld"](4,0,null,0,1,"span",[["class","user_name"]],null,null,null,null,null)),(n()(),t["\u0275ted"](5,null,["",":"])),(n()(),t["\u0275eld"](6,0,null,0,0,"br",[],null,null,null,null,null)),(n()(),t["\u0275eld"](7,0,null,0,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](8,null,["",""])),(n()(),t["\u0275eld"](9,0,null,0,2,"div",[["class","time"]],null,null,null,null,null)),(n()(),t["\u0275ted"](10,null,["",""])),t["\u0275ppd"](11,2)],function(n,l){var e=l.component,t=n(l,2,0,l.parent.context.$implicit.from===e.nickname,l.parent.context.$implicit.from!==e.nickname);n(l,1,0,"message",t),n(l,3,0,"3","9")},function(n,l){n(l,5,0,l.parent.context.$implicit.from),n(l,8,0,l.parent.context.$implicit.text);var e=t["\u0275unv"](l,10,0,n(l,11,0,t["\u0275nov"](l.parent.parent,0),l.parent.context.$implicit.created,"dd.MM hh:MM"));n(l,10,0,e)})}function v(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"ion-row",[],null,null,null,c.X,c.v)),t["\u0275did"](1,49152,null,0,o.fb,[t.ChangeDetectorRef,t.ElementRef],null,null),(n()(),t["\u0275and"](16777216,null,0,1,null,h)),t["\u0275did"](3,16384,null,0,d.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,C)),t["\u0275did"](5,16384,null,0,d.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,3,0,l.context.$implicit.from!==e.nickname),n(l,5,0,l.context.$implicit.from===e.nickname)},null)}function R(n){return t["\u0275vid"](0,[t["\u0275pid"](0,d.d,[t.LOCALE_ID]),(n()(),t["\u0275eld"](1,0,null,null,6,"ion-header",[],null,null,null,c.O,c.m)),t["\u0275did"](2,49152,null,0,o.y,[t.ChangeDetectorRef,t.ElementRef],null,null),(n()(),t["\u0275eld"](3,0,null,0,4,"ion-toolbar",[],null,null,null,c.db,c.B)),t["\u0275did"](4,49152,null,0,o.yb,[t.ChangeDetectorRef,t.ElementRef],null,null),(n()(),t["\u0275eld"](5,0,null,0,2,"ion-title",[],null,null,null,c.cb,c.A)),t["\u0275did"](6,49152,null,0,o.wb,[t.ChangeDetectorRef,t.ElementRef],null,null),(n()(),t["\u0275ted"](-1,0,[" Chat "])),(n()(),t["\u0275eld"](8,0,null,null,5,"ion-content",[],null,null,null,c.L,c.j)),t["\u0275did"](9,49152,null,0,o.r,[t.ChangeDetectorRef,t.ElementRef],null,null),(n()(),t["\u0275eld"](10,0,null,0,3,"ion-grid",[],null,null,null,c.N,c.l)),t["\u0275did"](11,49152,null,0,o.x,[t.ChangeDetectorRef,t.ElementRef],null,null),(n()(),t["\u0275and"](16777216,null,0,1,null,v)),t["\u0275did"](13,278528,null,0,d.k,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](14,0,null,null,21,"ion-footer",[],null,null,null,c.M,c.k)),t["\u0275did"](15,49152,null,0,o.w,[t.ChangeDetectorRef,t.ElementRef],null,null),(n()(),t["\u0275eld"](16,0,null,0,19,"ion-toolbar",[],null,null,null,c.db,c.B)),t["\u0275did"](17,49152,null,0,o.yb,[t.ChangeDetectorRef,t.ElementRef],null,null),(n()(),t["\u0275eld"](18,0,null,0,17,"ion-row",[["class","message_row"]],null,null,null,c.X,c.v)),t["\u0275did"](19,49152,null,0,o.fb,[t.ChangeDetectorRef,t.ElementRef],null,null),(n()(),t["\u0275eld"](20,0,null,0,10,"ion-col",[["size","9"]],null,null,null,c.K,c.i)),t["\u0275did"](21,49152,null,0,o.q,[t.ChangeDetectorRef,t.ElementRef],{size:[0,"size"]},null),(n()(),t["\u0275eld"](22,0,null,0,8,"ion-item",[["no-lines",""]],null,null,null,c.R,c.p)),t["\u0275did"](23,49152,null,0,o.E,[t.ChangeDetectorRef,t.ElementRef],null,null),(n()(),t["\u0275eld"](24,0,null,0,6,"ion-input",[["placeholder","Message"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var u=!0,o=n.component;return"ionBlur"===l&&(u=!1!==t["\u0275nov"](n,25)._handleBlurEvent()&&u),"ionChange"===l&&(u=!1!==t["\u0275nov"](n,25)._handleInputEvent(e.target.value)&&u),"ngModelChange"===l&&(u=!1!==(o.message=e)&&u),u},c.Q,c.o)),t["\u0275did"](25,16384,null,0,o.Ib,[t.ElementRef],null,null),t["\u0275prd"](1024,null,m.b,function(n){return[n]},[o.Ib]),t["\u0275did"](27,671744,null,0,m.e,[[8,null],[8,null],[8,null],[6,m.b]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,m.c,null,[m.e]),t["\u0275did"](29,16384,null,0,m.d,[[4,m.c]],null,null),t["\u0275did"](30,49152,null,0,o.D,[t.ChangeDetectorRef,t.ElementRef],{placeholder:[0,"placeholder"],type:[1,"type"]},null),(n()(),t["\u0275eld"](31,0,null,0,4,"ion-col",[["size","3"]],null,null,null,c.K,c.i)),t["\u0275did"](32,49152,null,0,o.q,[t.ChangeDetectorRef,t.ElementRef],{size:[0,"size"]},null),(n()(),t["\u0275eld"](33,0,null,0,2,"ion-button",[["clear",""],["color","primary"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.sendMessage()&&t),t},c.D,c.b)),t["\u0275did"](34,49152,null,0,o.h,[t.ChangeDetectorRef,t.ElementRef],{color:[0,"color"],disabled:[1,"disabled"]},null),(n()(),t["\u0275ted"](-1,0,[" Send "]))],function(n,l){var e=l.component;n(l,13,0,e.messages),n(l,21,0,"9"),n(l,27,0,e.message),n(l,30,0,"Message","text"),n(l,32,0,"3"),n(l,34,0,"primary",""===e.message)},function(n,l){n(l,24,0,t["\u0275nov"](l,29).ngClassUntouched,t["\u0275nov"](l,29).ngClassTouched,t["\u0275nov"](l,29).ngClassPristine,t["\u0275nov"](l,29).ngClassDirty,t["\u0275nov"](l,29).ngClassValid,t["\u0275nov"](l,29).ngClassInvalid,t["\u0275nov"](l,29).ngClassPending)})}function b(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-chat",[],null,null,null,R,g)),t["\u0275did"](1,49152,null,0,a,[f.a,p.WrappedSocket,o.Jb],null,null)],null,null)}var M=t["\u0275ccf"]("app-chat",a,b,{},{},[]);e.d(l,"ChatPageModuleNgFactory",function(){return k});var k=t["\u0275cmf"](s,[],function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[r.a,M]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,d.n,d.m,[t.LOCALE_ID,[2,d.u]]),t["\u0275mpd"](4608,m.g,m.g,[]),t["\u0275mpd"](4608,o.a,o.a,[t.NgZone,t.ApplicationRef]),t["\u0275mpd"](4608,o.Cb,o.Cb,[o.a,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](4608,o.Fb,o.Fb,[o.a,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](1073742336,d.b,d.b,[]),t["\u0275mpd"](1073742336,m.f,m.f,[]),t["\u0275mpd"](1073742336,m.a,m.a,[]),t["\u0275mpd"](1073742336,o.Ab,o.Ab,[]),t["\u0275mpd"](1073742336,f.o,f.o,[[2,f.u],[2,f.m]]),t["\u0275mpd"](1073742336,s,s,[]),t["\u0275mpd"](1024,f.k,function(){return[[{path:"",component:a}]]},[])])})}}]);