(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{L6id:function(e,l,n){"use strict";n.r(l);var t=n("CcnG"),i=function(){return function(){}}(),o=n("pMnS"),u=n("oBZk"),r=n("ZZ/e"),a=n("ZYCi"),s=n("Ip0R"),d=n("gIcY"),c=(n("lFSb"),n("iQai")),p=n("1KE6"),h=n("JNvz"),f=n("SSuX"),y=function(){function e(e,l,n,t){this.router=e,this.socket=l,this.deckService=n,this.playerService=t,this.nickname="",this.player=new h.a("Player 1"),this.dealer=new h.a("Dealer"),this.players=[],this.deck=new p.a}return e.prototype.ngOnInit=function(){this.shoes=2,this.load(this.shoes),console.log(this.deck),this.dealer.isDealer=!0,this.deal(),this.player.isNext=!0,this.setTurn(),this.bet(this.player,1e3)},e.prototype.load=function(e){this.deckService.load(this.deck,e)},e.prototype.shuffle=function(){this.deckService.shuffle(this.deck),console.log(this.deck)},e.prototype.deal=function(e){void 0===e&&(e=2),this.playerService.deal(this.player,this.deck,e),console.log(this.player);for(var l=0,n=this.players;l<n.length;l++)this.playerService.deal(n[l],this.deck,e);this.playerService.deal(this.dealer,this.deck,e),console.log(this.deck)},e.prototype.hit=function(e){this.playerService.deal(e,this.deck,1),console.log(e),console.log(this.deck)},e.prototype.bet=function(e,l){e.money-=l,e.bet+=l},e.prototype.flipCard=function(e){e.isFaceUp=0==e.isFaceUp},e.prototype.setTurn=function(){if(1==this.player.isNext&&0==this.players.length)this.playerService.setTurn(this.player,this.dealer);else if(1==this.player.isNext)this.playerService.setTurn(this.player,this.players[0]);else if(0==this.player.isNext&&0==this.dealer.isNext)for(var e=0;e<this.players.length;e++){var l=e+1;if(1==this.players[e].isNext&&l<this.players.length){this.playerService.setTurn(this.players[e],this.players[l]);break}1==this.players[e].isNext&&this.playerService.setTurn(this.players[e],this.dealer)}else this.playerService.setTurn(this.dealer,this.player)},e.prototype.endTurn=function(){if(1==this.player.isTurn)this.player.isTurn=!1;else if(1==this.dealer.isTurn)this.dealer.isTurn=!1;else for(var e=0,l=this.players;e<l.length;e++){var n=l[e];if(1==n.isTurn){n.isTurn=!1;break}}this.setTurn(),console.log(this.player),console.log(this.players),console.log(this.dealer)},e.prototype.split=function(e){e.hasSplit?alert("You have already split your cards."):(e.hasSplit=!0,e.splitBet=e.bet,e.money-=e.splitBet,this.playerService.split(e,this.deck)),console.log(e)},e.prototype.joinChat=function(){this.socket.connect(),this.socket.emit("set-nickname",this.nickname),this.router.navigate(["/chat",this.nickname])},e}(),g=n("ytKu"),m=t["\u0275crt"]({encapsulation:0,styles:[[".cardImage[_ngcontent-%COMP%]{height:10%;width:10%}"]],data:{}});function v(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,10,"ion-header",[],null,null,null,u.O,u.m)),t["\u0275did"](1,49152,null,0,r.y,[t.ChangeDetectorRef,t.ElementRef],null,null),(e()(),t["\u0275eld"](2,0,null,0,8,"ion-toolbar",[],null,null,null,u.db,u.B)),t["\u0275did"](3,49152,null,0,r.yb,[t.ChangeDetectorRef,t.ElementRef],null,null),(e()(),t["\u0275eld"](4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,u.E,u.c)),t["\u0275did"](5,49152,null,0,r.i,[t.ChangeDetectorRef,t.ElementRef],null,null),(e()(),t["\u0275eld"](6,0,null,0,1,"ion-menu-button",[],null,null,null,u.U,u.t)),t["\u0275did"](7,49152,null,0,r.O,[t.ChangeDetectorRef,t.ElementRef],null,null),(e()(),t["\u0275eld"](8,0,null,0,2,"ion-title",[],null,null,null,u.cb,u.A)),t["\u0275did"](9,49152,null,0,r.wb,[t.ChangeDetectorRef,t.ElementRef],null,null),(e()(),t["\u0275ted"](-1,0,[" The Game "])),(e()(),t["\u0275eld"](11,0,null,null,26,"ion-content",[],null,null,null,u.L,u.j)),t["\u0275did"](12,49152,null,0,r.r,[t.ChangeDetectorRef,t.ElementRef],null,null),(e()(),t["\u0275eld"](13,0,null,0,5,"ion-button",[["color","tertiary"],["expand","full"]],null,[[null,"click"]],function(e,l,n){var i=!0;return"click"===l&&(i=!1!==t["\u0275nov"](e,15).onClick()&&i),"click"===l&&(i=!1!==t["\u0275nov"](e,17).onClick(n)&&i),i},u.D,u.b)),t["\u0275did"](14,49152,null,0,r.h,[t.ChangeDetectorRef,t.ElementRef],{color:[0,"color"],expand:[1,"expand"]},null),t["\u0275did"](15,16384,null,0,a.n,[a.m,a.a,[8,null],t.Renderer2,t.ElementRef],{routerLink:[0,"routerLink"]},null),t["\u0275pad"](16,1),t["\u0275did"](17,737280,null,0,r.Gb,[s.h,r.Db,t.ElementRef,a.m,[2,a.n]],null,null),(e()(),t["\u0275ted"](-1,0,["Play!"])),(e()(),t["\u0275eld"](19,0,null,0,18,"ion-card",[],null,null,null,u.J,u.d)),t["\u0275did"](20,49152,null,0,r.j,[t.ChangeDetectorRef,t.ElementRef],null,null),(e()(),t["\u0275eld"](21,0,null,0,16,"ion-card-content",[],null,null,null,u.F,u.e)),t["\u0275did"](22,49152,null,0,r.k,[t.ChangeDetectorRef,t.ElementRef],null,null),(e()(),t["\u0275eld"](23,0,null,0,11,"ion-item",[],null,null,null,u.R,u.p)),t["\u0275did"](24,49152,null,0,r.E,[t.ChangeDetectorRef,t.ElementRef],null,null),(e()(),t["\u0275eld"](25,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,u.S,u.q)),t["\u0275did"](26,49152,null,0,r.K,[t.ChangeDetectorRef,t.ElementRef],{position:[0,"position"]},null),(e()(),t["\u0275ted"](-1,0,["Set Nickname"])),(e()(),t["\u0275eld"](28,0,null,0,6,"ion-input",[["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(e,l,n){var i=!0,o=e.component;return"ionBlur"===l&&(i=!1!==t["\u0275nov"](e,29)._handleBlurEvent()&&i),"ionChange"===l&&(i=!1!==t["\u0275nov"](e,29)._handleInputEvent(n.target.value)&&i),"ngModelChange"===l&&(i=!1!==(o.nickname=n)&&i),i},u.Q,u.o)),t["\u0275did"](29,16384,null,0,r.Ib,[t.ElementRef],null,null),t["\u0275prd"](1024,null,d.b,function(e){return[e]},[r.Ib]),t["\u0275did"](31,671744,null,0,d.e,[[8,null],[8,null],[8,null],[6,d.b]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,d.c,null,[d.e]),t["\u0275did"](33,16384,null,0,d.d,[[4,d.c]],null,null),t["\u0275did"](34,49152,null,0,r.D,[t.ChangeDetectorRef,t.ElementRef],{type:[0,"type"]},null),(e()(),t["\u0275eld"](35,0,null,0,2,"ion-button",[["expand","full"]],null,[[null,"click"]],function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.joinChat()&&t),t},u.D,u.b)),t["\u0275did"](36,49152,null,0,r.h,[t.ChangeDetectorRef,t.ElementRef],{disabled:[0,"disabled"],expand:[1,"expand"]},null),(e()(),t["\u0275ted"](37,0,["Join Chat as ",""]))],function(e,l){var n=l.component;e(l,14,0,"tertiary","full");var t=e(l,16,0,"/setup");e(l,15,0,t),e(l,17,0),e(l,26,0,"floating"),e(l,31,0,n.nickname),e(l,34,0,"text"),e(l,36,0,""===n.nickname,"full")},function(e,l){var n=l.component;e(l,28,0,t["\u0275nov"](l,33).ngClassUntouched,t["\u0275nov"](l,33).ngClassTouched,t["\u0275nov"](l,33).ngClassPristine,t["\u0275nov"](l,33).ngClassDirty,t["\u0275nov"](l,33).ngClassValid,t["\u0275nov"](l,33).ngClassInvalid,t["\u0275nov"](l,33).ngClassPending),e(l,37,0,n.nickname)})}function k(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"app-home",[],null,null,null,v,m)),t["\u0275did"](1,114688,null,0,y,[a.m,g.WrappedSocket,c.a,f.a],null,null)],function(e,l){e(l,1,0)},null)}var C=t["\u0275ccf"]("app-home",y,k,{},{},[]);n.d(l,"HomePageModuleNgFactory",function(){return R});var R=t["\u0275cmf"](i,[],function(e){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,C]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,s.n,s.m,[t.LOCALE_ID,[2,s.u]]),t["\u0275mpd"](4608,d.g,d.g,[]),t["\u0275mpd"](4608,r.a,r.a,[t.NgZone,t.ApplicationRef]),t["\u0275mpd"](4608,r.Cb,r.Cb,[r.a,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](4608,r.Fb,r.Fb,[r.a,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](1073742336,s.b,s.b,[]),t["\u0275mpd"](1073742336,d.f,d.f,[]),t["\u0275mpd"](1073742336,d.a,d.a,[]),t["\u0275mpd"](1073742336,r.Ab,r.Ab,[]),t["\u0275mpd"](1073742336,a.o,a.o,[[2,a.u],[2,a.m]]),t["\u0275mpd"](1073742336,i,i,[]),t["\u0275mpd"](1024,a.k,function(){return[[{path:"",component:y}]]},[])])})}}]);